<template>
  <lightning-progress-indicator
    current-step={currentStep}
    type="base"
    variant="base"
  >
    <lightning-progress-step
      label="User Information"
      value="1"
    ></lightning-progress-step>
    <lightning-progress-step
      label="Account Information"
      value="2"
    ></lightning-progress-step>
  </lightning-progress-indicator>

  <div class={stepOneClass}>
    <lightning-card title="Create New User">
      <div class="slds-p-around_medium">
        <lightning-input
          type="email"
          label="Email address"
          required
          value={userRecord.Email}
          onchange={handleUserInputChange}
          name="Email"
        ></lightning-input>

        <lightning-input
          type="text"
          label="First Name"
          required
          value={userRecord.FirstName}
          onchange={handleUserInputChange}
          name="FirstName"
        ></lightning-input>

        <lightning-input
          type="text"
          label="Last Name"
          required
          value={userRecord.LastName}
          onchange={handleUserInputChange}
          name="LastName"
        ></lightning-input>

        <lightning-input
          type="text"
          label="Username"
          required
          value={userRecord.Username}
          onchange={handleUserInputChange}
          name="Username"
          class="slds-m-top_small"
        ></lightning-input>

        <lightning-input
          type="text"
          label="Alias"
          required
          maxlength="8"
          value={userRecord.Alias}
          onchange={handleUserInputChange}
          name="Alias"
        ></lightning-input>

        <lightning-input
          type="text"
          label="Nickname"
          required
          value={userRecord.CommunityNickname}
          onchange={handleUserInputChange}
          name="CommunityNickname"
        ></lightning-input>

        <div class="slds-m-top_medium">
          <lightning-button
            label="Create User and Continue"
            variant="brand"
            onclick={createUserAndContinue}
            disabled={isButtonDisabled}
          ></lightning-button>
        </div>
      </div>
    </lightning-card>
  </div>

  <div class={stepTwoClass}>
    <lightning-card title="Account Information">
      <div class="slds-p-around_medium">
        <lightning-combobox
          name="MilitaryBranch"
          label="Military Branch"
          placeholder="Select Branch"
          options={branchOptions}
          onchange={handleAccountInputChange}
          value={accountRecord.MilitaryBranch__c}
        ></lightning-combobox>

        <lightning-combobox
          name="DischargeStatus"
          label="Discharge Status"
          placeholder="Select Status"
          options={dischargeOptions}
          onchange={handleAccountInputChange}
          value={accountRecord.DischargeStatus__c}
        ></lightning-combobox>

        <div class="slds-m-top_medium">
          <lightning-button
            label="Back"
            onclick={goToStepOne}
            class="slds-m-right_small"
          ></lightning-button>
          <lightning-button
            label="Finish"
            variant="brand"
            onclick={createAccount}
          ></lightning-button>
        </div>
      </div>
    </lightning-card>
  </div>

  <!-- Spinner for loading states -->
  <template if:true={isLoading}>
    <div class="slds-is-relative">
      <lightning-spinner
        alternative-text="Loading"
        size="medium"
      ></lightning-spinner>
    </div>
  </template>
</template>